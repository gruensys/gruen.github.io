<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrOS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            color: #76976c;
            overflow: hidden;
            background-image: url('https://pixeldrain.com/api/file/5s4A58Pz');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        .window {
            display: none;
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.5s ease;
            touch-action: none; /* Disable default touch behavior */
            z-index: 1; /* Set default z-index */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #000;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            cursor: grab; /* Change cursor to indicate draggable area */
        }

        .window-controls {
            display: flex;
            gap: 5px;
        }

        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ffffff;
            cursor: pointer;
        }

        .window-content {
            padding: 20px;
        }

        .dock {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            animation: slideInBottom 0.5s ease;
        }

        .dock-item {
            font-size: 24px;
            color: #fff;
            cursor: pointer;
        }

        @keyframes slideInBottom {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .fa {
            font-family: 'Font Awesome 5 Free';
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #000;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
        }

        .social-icons {
            display: flex;
            gap: 10px;
        }

        .social-icons a {
            color: #fff;
            font-size: 24px;
        }

        .social-icons a:hover {
            color: #76976c;
        }

        .terminal-input, .browser-input {
            border: 2px solid #76976c;
            border-radius: 5px;
            padding: 5px;
            background-color: transparent;
            color: #fff;
            outline: none;
        }

        .terminal-input::placeholder, .browser-input::placeholder {
            color: #76976c;
        }

        .magnifying-glass {
            color: #6dc06d;
        }
    </style>
</head>
<body>
<div class="window" id="welcome-window" style="top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.8;" ontouchstart="startDragging(event, 'welcome-window')" ontouchmove="dragging(event, 'welcome-window')">
    <div class="window-header">
        <div class="window-title">Welcome</div>
        <div class="window-controls">
            <div class="window-control maximize" onclick="maximizeWindow('welcome-window')"></div>
            <div class="window-control close" onclick="closeWindow('welcome-window')"></div>
        </div>
    </div>
</div>

<div class="window" id="about-window" style="top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.8;" ontouchstart="startDragging(event, 'about-window')" ontouchmove="dragging(event, 'about-window')">
    <div class="window-header">
        <div class="window-title">About</div>
        <div class="window-controls">
            <div class="window-control close" onclick="closeWindow('about-window')"></div>
        </div>
    </div>
    <div class="window-content">
       <p>Just a simple website (version 1.1) I'm working on. Currently, there is only one supported command for the terminal (gfetch). If you have any suggestions for more commands or apps, feel free to contact me via <a href="https://discordapp.com/users/900761716466524251" style="color: green;">Discord</a> ,<a href="https://matrix.to/#/@gruen_:matrix.org" style="color: green;">Matrix</a> or <a href="mailto:gruensys@proton.me" style="color: green;">mail</a>.
</p>
    </div>
</div>

<div class="window" id="browser-window" style="top: 100px; left: 100px; opacity: 0.8;" ontouchstart="startDragging(event, 'browser-window')" ontouchmove="dragging(event, 'browser-window')">
    <div class="window-header">
        <div class="window-title">Browser</div>
        <div class="window-controls">
            <div class="window-control maximize" onclick="maximizeWindow('browser-window')"></div>
            <div class="window-control close" onclick="closeWindow('browser-window')"></div>
        </div>
    </div>
    <div class="window-content"> 
        <input type="text" class="browser-input" placeholder="Search..." onkeypress="handleKeyPress(event)">
        <i class="fas fa-search magnifying-glass" onclick="search()"></i>
    </div>
</div>>
</div>
<div class="window" id="music-player-window" style="top: 150px; left: 150px; opacity: 0.8;" ontouchstart="startDragging(event, 'music-player-window')" ontouchmove="dragging(event, 'music-player-window')">
    <div class="window-header">
        <div class="window-title">Music Player</div>
        <div class="window-controls">
            <div class="window-control maximize" onclick="maximizeWindow('music-player-window')"></div>
            <div class="window-control close" onclick="closeWindow('music-player-window')"></div>
        </div>
    </div>
    <div class="window-content">
        <audio controls>
            <source src="./music.mp3" type="audio/mpeg">
        </audio>
    </div>
</div>
<div class="window" id="terminal-window" style="top: 200px; left: 200px; opacity: 0.8;" ontouchstart="startDragging(event, 'terminal-window')" ontouchmove="dragging(event, 'terminal-window')">
    <div class="window-header">
        <div class="window-title">Terminal</div>
        <div class="window-controls">
            <div class="window-control maximize" onclick="maximizeWindow('terminal-window')"></div>
            <div class="window-control close" onclick="closeWindow('terminal-window')"></div>
        </div>
    </div>
    <div class="window-content">
        <p>user@gruen: <input type="text" class="terminal-input" id="terminalInput" placeholder="Type a command..." onkeypress="handleTerminalKeyPress(event)"></p>
        <div id="terminalOutput"></div>
    </div>
</div>
<div class="dock">
    <div class="dock-item" onclick="openWindow('browser-window')"><i class="fas fa-globe"></i></div>
    <div class="dock-item" onclick="openWindow('music-player-window')"><i class="fas fa-music"></i></div>
    <div class="dock-item" onclick="openWindow('terminal-window')"><i class="fas fa-terminal"></i></div>
    <div class="dock-item" onclick="openWindow('about-window')"><i class="fas fa-info"></i></div>
</div>

<script>
    function startDragging(event, id) {
        var window = document.getElementById(id);
        window.setAttribute('data-dragging', 'true');
        window.style.zIndex = 2; 
        var offsetX = event.touches[0].clientX - window.getBoundingClientRect().left;
        var offsetY = event.touches[0].clientY - window.getBoundingClientRect().top;
        window.setAttribute('data-offset-x', offsetX);
        window.setAttribute('data-offset-y', offsetY);
    }

    function dragging(event, id) {
        var window = document.getElementById(id);
        if (window.getAttribute('data-dragging') === 'true') {
            var offsetX = parseFloat(window.getAttribute('data-offset-x'));
            var offsetY = parseFloat(window.getAttribute('data-offset-y'));
            var newX = event.touches[0].clientX - offsetX;
            var newY = event.touches[0].clientY - offsetY;
            window.style.left = newX + 'px';
            window.style.top = newY + 'px';
        }
    }

    function stopDragging(event, id) {
        var window = document.getElementById(id);
        window.setAttribute('data-dragging', 'false');
    }

    function openWindow(id) {
        var window = document.getElementById(id);
        window.style.display = "block";
        window.style.zIndex = 2; 
    }

    function closeWindow(id) {
        var window = document.getElementById(id);
        window.style.display = "none";
    }

    function maximizeWindow(id) {
        var window = document.getElementById(id);
        window.style.width = "100%";
        window.style.height = "100%";
        window.style.top = "0";
        window.style.left = "0";
        window.style.transform = "none";
        window.style.zIndex = 2;
    }

    function runCommand() {
        var input = document.getElementById("terminalInput").value;
        var output = document.getElementById("terminalOutput");
        output.innerHTML += "<p>> " + input + "</p>";
        if (input.toLowerCase() === "gfetch") {
            fetch("https://api64.ipify.org?format=json")
                .then(response => response.json())
                .then(data => {
                    output.innerHTML += `<p><i class="fas fa-home"></i> Your IP Address: ${data.ip}</p>`;
                    output.innerHTML += `<p><i class="fas fa-user"></i> User Agent: ${navigator.userAgent}</p>`;
                })
                .catch(error => console.error('Error:', error));
        } else {
            output.innerHTML += "<p>Command not recognized</p>";
        }
        document.getElementById("terminalInput").value = "";
    }

    function search() {
        var input = document.querySelector(".browser-input").value;
        window.open("https://search.brave.com/search?q=" + input, "_blank");
    }

    function handleKeyPress(event) {
        if (event.key === 'Enter') {
            search();
        }
    }

    function handleTerminalKeyPress(event) {
        if (event.key === 'Enter') {
            runCommand();
        }
    }
</script>
</body>
</html>